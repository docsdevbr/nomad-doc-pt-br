---
# Copyright (c) 2024 HashiCorp, Inc.
# Nomad and the Nomad logo are trademarks of HashiCorp.

# Documentation licensed under the Business Source License, Version 1.1.
# The original work was translated from English into Brazilian Portuguese.
# https://github.com/hashicorp/nomad/blob/main/LICENSE

source_url: https://github.com/hashicorp/nomad/blob/main/website/content/docs/faq.mdx
revision: 53b083b8c5e09c8f12ae6a9db9fe6f88e75c2d12
status: ready

layout: docs
page_title: Perguntas frequentes
description: |-
  Os tópicos de perguntas frequentes do Nomad incluem Checkpoint, protocolos de
  consenso e gossip, data center Nomad versus data center Consul, bootstrapping
  de um cluster e conexão a uma rede host com o Docker Desktop.
---

# Perguntas frequentes

## P: O que é Checkpoint? / O Nomad liga para casa?

O Nomad utiliza um serviço da HashiCorp chamado
[Checkpoint](https://checkpoint.hashicorp.com), que é usado para verificar
atualizações e boletins de segurança críticos.
Somente informações anônimas, que não podem ser usadas para identificar a pessoa
usuária ou o host, são enviadas ao Checkpoint.
Um ID anônimo é enviado, o que ajuda a eliminar mensagens de aviso duplicadas.
Esse ID anônimo pode ser desabilitado.
O uso do serviço Checkpoint é opcional e pode ser desabilitado.

Consulte
[`disable_anonymous_signature`](/nomad/docs/configuration#disable_anonymous_signature)
e [`disable_update_check`](/nomad/docs/configuration#disable_update_check).

## P: O Nomad é eventualmente ou fortemente consistente?

O Nomad utiliza um
[protocolo de consenso](/nomad/docs/architecture/cluster/consensus) e um
[protocolo gossip](/nomad/docs/architecture/security/gossip).
O protocolo de consenso é fortemente consistente e é usado para toda a
replicação de estado e agendamento.
O protocolo gossip é usado para gerenciar os endereços de servidores para
clustering automático e federação multirregional.
Isso significa que todos os dados gerenciados pelo Nomad são fortemente
consistentes.

## P: O parâmetro `datacenter` do Nomad é o mesmo do Consul?

Não.
Para aquelas pessoas familiarizadas com o Consul,
[a noção de um data center do Consul][consul_dc] é mais equivalente a uma
[região do Nomad][nomad_region].
O Nomad suporta o agrupamento de nós em vários data centers, o que deve refletir
os nós sendo colocados, enquanto são gerenciados por um único conjunto de
servidores Nomad.

O Consul, por outro lado, não possui essa abordagem de duas camadas para
servidores e agentes e, em vez disso,
[depende da federação para criar clusters lógicos maiores][consul_fed].

## P: O que é "bootstrapping" de um cluster Nomad? ((#bootstrapping))

Bootstrapping é o processo em que um cluster Nomad elege seu primeiro líder e
grava o estado inicial do cluster no repositório de estado desse líder.
O bootstrapping não ocorrerá até que pelo menos um determinado número de
servidores, definido por [`bootstrap_expect`], estejam conectados entre si.
Uma vez que esse processo tenha sido concluído, o cluster é considerado
inicializado e pronto para uso.

Certas opções de configuração são usadas apenas para influenciar a criação do
estado inicial do cluster durante o bootstrapping e não são consultadas
novamente enquanto os dados de estado permanecerem intactos.
Normalmente, esses são valores que devem ser consistentes entre os servidores
membros do cluster.
Por exemplo, a opção [`default_scheduler_config`] permite que uma pessoa
operadora defina o SchedulerConfig com valores não padrão durante esse processo
de inicialização, em vez de exigir uma chamada imediata à API assim que o
cluster estiver instalado e funcionando.

Se o estado for completamente destruído, intencionalmente ou acidentalmente, em
todos os servidores Nomad na mesma interrupção, o cluster será reinicializado
com base nos padrões do Nomad e em qualquer configuração presente que afete o
processo de inicialização.

## P: Como me conecto à minha rede host usando o Docker Desktop (Windows e MacOS)?

Como o Docker é baseado em tecnologias nativas do Linux, o Docker Desktop para
Windows e MacOS usa uma pequena máquina virtual Linux para executar contêineres.
Esta etapa extra adiciona uma camada de indireção entre a rede do seu host (o
computador que você está usando no momento) e a rede da VM que executa seus
contêineres.

Isso significa que, por padrão, suas tarefas do Docker não poderão acessar
endpoints disponíveis na sua rede host, como um agente Consul local.

Para configurar corretamente esta conexão, você precisará vincular
explicitamente o cliente Nomad a uma interface de rede sem loopback, e qualquer
outra coisa que você queira acessar também deve estar na mesma interface.

No Windows, recomendamos que você comece com o
[backend WSL2 para Docker Desktop][wsl2-docker].
Assim que estiver mais confortável com o Nomad, você poderá começar a executá-lo
nativamente.

Para usar a rede chamada `en0` com o endereço IP `192.168.0.10`, você pode
iniciar o Nomad com este comando:

```shell-session
$ sudo nomad agent -dev -bind=0.0.0.0 -network-interface=en0
```

Para iniciar o Consul na mesma rede, você pode executar este comando:

```shell-session
$ consul agent -dev -client=0.0.0.0 -bind=192.168.0.10
```

Agora seus serviços serão registrados no Consul usando o IP correto e suas
tarefas poderão se comunicar.
Para acessar suas tarefas a partir da sua máquina host, você precisará usar o
endereço IP da interface de rede.

```shell-session
$ curl http://192.168.0.10:8080
```

[consul_dc]: /consul/docs/agent/config/config-files#datacenter
[consul_fed]: /consul/tutorials/networking/federation-gossip-wan
[nomad_region]: /nomad/docs/configuration#datacenter
[`bootstrap_expect`]: /nomad/docs/configuration/server#bootstrap_expect
[`default_scheduler_config`]: /nomad/docs/configuration/server#default_scheduler_config
[wsl2-docker]: https://docs.docker.com/docker-for-windows/wsl/
